<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./asset/styles.css">
    <title>Log Players</title>
</head>

<body>
    <!-- <a href="/room" onclick="navigateTo('/room')">Room</a> -->
    <section class="log">
        <div class="group">
            <input required="" type="text" class="input">
            <span class="highlight"></span>
            <span class="bar"></span>
            <label>Name</label>
        </div>
        <a href="/room"><button id="button">Join!</button></a>   
        <!-- <button id="button">Join!</button> -->
    </section>
    <script type="module">
        import {  socket } from "./asset/client/connect.js";
        import { navigateTo } from "./asset/client/route.js";
        //WSManager();
        document.addEventListener("DOMContentLoaded", () => {

            console.log("IN addEVENTListener")
            let userName = ""
            let button = document.getElementById("button")
            let input = document.querySelector(".input")
            button.addEventListener("click", () => {
                console.log("values of the input", input)
                console.log("value in input", input.value)
                userName = input.value;

                if (userName != "") {

                    socket.send(JSON.stringify({
                        type: "UserLog",
                        data: {
                            name: userName,
                        }
                    }))
                    userName = ""
                }
            })
        })
        // socket.onmessage = function (event) {
        //     let data = JSON.parse(event.data)
        //     console.log("data from server:", data)

        //     if (data.type == "room") {
        //         navigateTo("/" + data.type)
        //     }
        // }


    </script>
    <!-- <script type="module" src="../asset/client/route.js"></script> -->
    <!-- <script type="module" src="../asset/client/log.js"></script> -->

</body>
</html>